<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ANIMACIONES</title>
	<style type="text/css">
		.cuadro{
			height: 150px;
			width: 150px;
			background-color: #300;
		}
	</style>
</head>
<body>
	<a class="boton" href="#">Animaci√≥n</a>
	<div class="cuadro"></div>


<script
	src="https://code.jquery.com/jquery-3.3.1.min.js"
	integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	crossorigin="anonymous"></script>
<script>
	$(document).ready(function(){
   		$(".boton").click(function(e){
   			e.preventDefault();
   			$(".boton").css("pointer-events","none");
   			
   			fade($(".cuadro"),5000);
   			 
   		});
   		
   		function fade(elemento,duracion){
   			var intervalo=1/((duracion/1000)*60); //para calcular la cantidad de divisiones y dividersela a 1, segun el valor que metamos
   			var opacidad=1; //variable de control
   			var animacion=setInterval(function(){ //le pasamos 2 valores a setInterval, el callback y el tiempo en el que se va a repetir ese callback
   				elemento.css({opacity:opacidad});
   				if(opacidad>0){
   					opacidad-=intervalo;
   				}else{
   					clearInterval(animacion);
   					$(".boton").css("pointer-events","all");
   				}
   			},1000/60);
   		}

   	});
</script>
</body>
</html>